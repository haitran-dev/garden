---
import Layout from "@/layouts/Layout.astro";

// Client-side imports should be handled in a separate .ts/.js file
// We'll create a new file for our client-side logic
---

<Layout title="URL to EPUB Converter">
  <main class="content-extractor">
    <h1>URL to EPUB Converter</h1>
    <p class="description">
      Extract content from any URL and convert it to EPUB format
    </p>

    <form id="url-form" class="url-form">
      <input
        type="url"
        id="url-input"
        placeholder="Paste article URL here..."
        required
      />
      <button type="submit">Extract Content</button>
    </form>

    <div id="preview" class="preview hidden">
      <h2>Content Preview</h2>
      <div id="preview-content"></div>
      <div class="actions">
        <button id="download-epub" class="download-btn" disabled>
          Download as EPUB
        </button>
      </div>
    </div>
  </main>
</Layout>

<style>
  .content-extractor {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
  }

  h1 {
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  .description {
    color: #666;
    margin-bottom: 2rem;
  }

  .url-form {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
  }

  input[type="url"] {
    flex: 1;
    padding: 0.5rem;
    font-size: 1rem;
    border: 1px solid #ccc;
    border-radius: 4px;
  }

  button {
    padding: 0.5rem 1rem;
    background: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  button:hover {
    background: #0056b3;
  }

  button:disabled {
    background: #ccc;
    cursor: not-allowed;
  }

  .preview {
    border: 1px solid #ccc;
    border-radius: 4px;
    padding: 1rem;
    margin-top: 2rem;
  }

  .preview.hidden {
    display: none;
  }

  .actions {
    margin-top: 1rem;
    text-align: right;
  }

  #preview-content {
    margin: 1rem 0;
    max-height: 500px;
    overflow-y: auto;
    padding: 1rem;
    background: #f9f9f9;
  }
</style>

<script>
  // Import the client-side logic
  import "@/scripts/url-to-epub";
</script>
